# Cross-Fetch System Architecture Diagrams

**Visual representations of the Cross-Fetch Information Enrichment System**

---

## 1. System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SHYPN APPLICATION                             â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              PATHWAY IMPORT (Primary Source)                â”‚   â”‚
â”‚  â”‚  â€¢ SBML File                                                â”‚   â”‚
â”‚  â”‚  â€¢ BioModels ID                                             â”‚   â”‚
â”‚  â”‚  â€¢ User Input                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â”‚                                        â”‚
â”‚                            â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         CROSSFETCH ENRICHMENT SYSTEM                        â”‚   â”‚
â”‚  â”‚                                                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
â”‚  â”‚  â”‚  1. Identify Missing Information                 â”‚      â”‚   â”‚
â”‚  â”‚  â”‚     â€¢ No coordinates â†’ need layout               â”‚      â”‚   â”‚
â”‚  â”‚  â”‚     â€¢ No concentrations â†’ need values            â”‚      â”‚   â”‚
â”‚  â”‚  â”‚     â€¢ No kinetics â†’ need parameters              â”‚      â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚  â”‚                      â”‚                                      â”‚   â”‚
â”‚  â”‚                      â–¼                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
â”‚  â”‚  â”‚  2. Query Multiple Sources (Parallel)           â”‚      â”‚   â”‚
â”‚  â”‚  â”‚                                                  â”‚      â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚      â”‚   â”‚
â”‚  â”‚  â”‚  â”‚BioModels â”‚  â”‚  KEGG    â”‚  â”‚ Reactome â”‚     â”‚      â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚      â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚      â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  ChEBI   â”‚  â”‚ UniProt  â”‚  â”‚WikiPaths â”‚     â”‚      â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚      â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚  â”‚                      â”‚                                      â”‚   â”‚
â”‚  â”‚                      â–¼                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
â”‚  â”‚  â”‚  3. Quality Assessment & Scoring                â”‚      â”‚   â”‚
â”‚  â”‚  â”‚     â€¢ Completeness                               â”‚      â”‚   â”‚
â”‚  â”‚  â”‚     â€¢ Source reliability                         â”‚      â”‚   â”‚
â”‚  â”‚  â”‚     â€¢ Validation status                          â”‚      â”‚   â”‚
â”‚  â”‚  â”‚     â€¢ Internal consistency                       â”‚      â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚  â”‚                      â”‚                                      â”‚   â”‚
â”‚  â”‚                      â–¼                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
â”‚  â”‚  â”‚  4. Conflict Resolution & Voting                â”‚      â”‚   â”‚
â”‚  â”‚  â”‚     â€¢ Weighted voting                            â”‚      â”‚   â”‚
â”‚  â”‚  â”‚     â€¢ Priority-based selection                   â”‚      â”‚   â”‚
â”‚  â”‚  â”‚     â€¢ Consensus algorithms                       â”‚      â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚  â”‚                      â”‚                                      â”‚   â”‚
â”‚  â”‚                      â–¼                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
â”‚  â”‚  â”‚  5. Merge & Create Enriched Pathway             â”‚      â”‚   â”‚
â”‚  â”‚  â”‚     â€¢ Best data from all sources                 â”‚      â”‚   â”‚
â”‚  â”‚  â”‚     â€¢ Source attribution logged                  â”‚      â”‚   â”‚
â”‚  â”‚  â”‚     â€¢ Quality metrics tracked                    â”‚      â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                                        â”‚
â”‚                           â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           ENRICHED PATHWAY (Complete & Attributed)          â”‚   â”‚
â”‚  â”‚  â€¢ Drawing Coordinates                                      â”‚   â”‚
â”‚  â”‚  â€¢ Initial Concentrations                                   â”‚   â”‚
â”‚  â”‚  â€¢ Kinetic Parameters                                       â”‚   â”‚
â”‚  â”‚  â€¢ Full Annotations                                         â”‚   â”‚
â”‚  â”‚  â€¢ Quality Metrics                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Package Structure

```
src/shypn/crossfetch/
â”‚
â”œâ”€â”€ __init__.py                    # Package initialization
â”‚
â”œâ”€â”€ core/                          # ğŸ¯ Core Orchestration
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ enrichment_pipeline.py    # Main coordinator
â”‚   â”‚   â””â”€ EnrichmentPipeline     # Orchestrates entire process
â”‚   â”œâ”€â”€ quality_scorer.py         # Quality assessment
â”‚   â”‚   â””â”€ QualityScorer          # Scores fetched data
â”‚   â”œâ”€â”€ data_aggregator.py        # Data merging
â”‚   â”‚   â””â”€ DataAggregator         # Combines sources
â”‚   â””â”€â”€ conflict_resolver.py      # Voting & selection
â”‚       â””â”€ ConflictResolver       # Resolves conflicts
â”‚
â”œâ”€â”€ fetchers/                      # ğŸŒ Database Clients
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_fetcher.py           # Abstract base
â”‚   â”‚   â””â”€ BaseFetcher            # Interface for all fetchers
â”‚   â”œâ”€â”€ biomodels_fetcher.py      # BioModels Database
â”‚   â”‚   â””â”€ BioModelsFetcher       # Priority: 10 (highest)
â”‚   â”œâ”€â”€ kegg_fetcher.py           # KEGG API
â”‚   â”‚   â””â”€ KEGGFetcher            # Priority: 8
â”‚   â”œâ”€â”€ reactome_fetcher.py       # Reactome API
â”‚   â”‚   â””â”€ ReactomeFetcher        # Priority: 9
â”‚   â”œâ”€â”€ wikipathways_fetcher.py   # WikiPathways API
â”‚   â”‚   â””â”€ WikiPathwaysFetcher    # Priority: 7
â”‚   â”œâ”€â”€ chebi_fetcher.py          # ChEBI Compounds
â”‚   â”‚   â””â”€ ChEBIFetcher           # Priority: 9
â”‚   â””â”€â”€ uniprot_fetcher.py        # UniProt Proteins
â”‚       â””â”€ UniProtFetcher         # Priority: 9
â”‚
â”œâ”€â”€ enrichers/                     # ğŸ”¬ Type-Specific Enrichment
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_enricher.py          # Abstract base
â”‚   â”‚   â””â”€ BaseEnricher           # Interface for enrichers
â”‚   â”œâ”€â”€ concentration_enricher.py # Initial values
â”‚   â”‚   â””â”€ ConcentrationEnricher  # BioModels, SABIO-RK
â”‚   â”œâ”€â”€ coordinate_enricher.py    # Layout positions
â”‚   â”‚   â””â”€ CoordinateEnricher     # KEGG, Reactome, WikiPathways
â”‚   â”œâ”€â”€ kinetic_enricher.py       # Rate parameters
â”‚   â”‚   â””â”€ KineticEnricher        # BioModels, BRENDA, SABIO-RK
â”‚   â”œâ”€â”€ annotation_enricher.py    # Metadata
â”‚   â”‚   â””â”€ AnnotationEnricher     # UniProt, GO, Multiple
â”‚   â””â”€â”€ structure_enricher.py     # Chemical structures
â”‚       â””â”€ StructureEnricher      # ChEBI, KEGG Compound
â”‚
â”œâ”€â”€ models/                        # ğŸ“¦ Data Structures
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ enrichment_result.py      # Result classes
â”‚   â”‚   â”œâ”€ FetchResult            # Result from fetcher
â”‚   â”‚   â”œâ”€ EnrichedSpecies        # Species with enrichment
â”‚   â”‚   â””â”€ EnrichedPathway        # Pathway with enrichment
â”‚   â”œâ”€â”€ quality_metrics.py        # Quality scoring
â”‚   â”‚   â””â”€ QualityMetrics         # Quality assessment
â”‚   â””â”€â”€ source_metadata.py        # Attribution
â”‚       â””â”€ SourceAttribution      # Source tracking
â”‚
â”œâ”€â”€ policies/                      # âš–ï¸ Selection Rules
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ quality_policy.py         # Quality thresholds
â”‚   â”‚   â””â”€ QualityPolicy          # Min quality rules
â”‚   â”œâ”€â”€ priority_policy.py        # Source priorities
â”‚   â”‚   â””â”€ PriorityPolicy         # Source ranking
â”‚   â””â”€â”€ voting_policy.py          # Conflict resolution
â”‚       â””â”€ VotingPolicy           # Selection strategies
â”‚
â””â”€â”€ utils/                         # ğŸ› ï¸ Utilities
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ cache_manager.py          # API response caching
    â”‚   â””â”€ CacheManager           # LRU cache + persistence
    â”œâ”€â”€ rate_limiter.py           # API rate limiting
    â”‚   â””â”€ RateLimiter            # Respectful API usage
    â””â”€â”€ logger.py                 # Enrichment logging
        â””â”€ EnrichmentLogger       # Detailed logging
```

---

## 3. Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SBML Import  â”‚  Primary source (may be incomplete)
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ PathwayData
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EnrichmentPipeline            â”‚
â”‚  .enrich_pathway(pathway_data) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ 1. Analyze
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Identify Missing Data         â”‚
â”‚  â€¢ coordinates: 100% missing   â”‚
â”‚  â€¢ concentrations: 20% missing â”‚
â”‚  â€¢ kinetics: 50% missing       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ 2. Fetch (Parallel)
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Query All Registered Fetchers                      â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚BioModels    â”‚  â”‚  KEGG       â”‚  â”‚ Reactome   â”‚ â”‚
â”‚  â”‚Fetcher      â”‚  â”‚  Fetcher    â”‚  â”‚ Fetcher    â”‚ â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚            â”‚ â”‚
â”‚  â”‚ fetch()     â”‚  â”‚ fetch()     â”‚  â”‚ fetch()    â”‚ â”‚
â”‚  â”‚   â†“         â”‚  â”‚   â†“         â”‚  â”‚   â†“        â”‚ â”‚
â”‚  â”‚FetchResult  â”‚  â”‚FetchResult  â”‚  â”‚FetchResult â”‚ â”‚
â”‚  â”‚quality=0.95 â”‚  â”‚quality=0.75 â”‚  â”‚quality=0.90â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ List[FetchResult] per data type
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QualityScorer                 â”‚
â”‚  .score(fetch_result)          â”‚
â”‚                                â”‚
â”‚  Compute:                      â”‚
â”‚  â€¢ Completeness: 0.85          â”‚
â”‚  â€¢ Reliability: 0.95           â”‚
â”‚  â€¢ Consistency: 0.78           â”‚
â”‚  â€¢ Validation: 0.90            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚
â”‚  Overall: 0.87                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ QualityMetrics per result
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ConflictResolver              â”‚
â”‚  .resolve(results, strategy)   â”‚
â”‚                                â”‚
â”‚  Strategy: quality_weighted    â”‚
â”‚                                â”‚
â”‚  Results:                      â”‚
â”‚  1. BioModels: 0.95 â† WINNER  â”‚
â”‚  2. Reactome: 0.90            â”‚
â”‚  3. KEGG: 0.75                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ Best FetchResult selected
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DataAggregator                â”‚
â”‚  .merge(pathway, enrichments)  â”‚
â”‚                                â”‚
â”‚  Merge best data into pathway  â”‚
â”‚  Add source attribution        â”‚
â”‚  Track quality metrics         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ EnrichedPathway
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Enriched Pathway              â”‚
â”‚  â€¢ Complete data               â”‚
â”‚  â€¢ Source attribution          â”‚
â”‚  â€¢ Quality report              â”‚
â”‚                                â”‚
â”‚  species[0]:                   â”‚
â”‚    initial_conc: 10.0          â”‚
â”‚    source: BioModels           â”‚
â”‚    quality: 0.95               â”‚
â”‚    coordinates: (250, 180)     â”‚
â”‚    source: KEGG                â”‚
â”‚    quality: 0.75               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Quality Scoring Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     FetchResult          â”‚
â”‚  from any Fetcher        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QualityScorer.score()                â”‚
â”‚                                       â”‚
â”‚  1. Completeness Assessment           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚     â”‚ Count populated      â”‚         â”‚
â”‚     â”‚ fields vs total      â”‚         â”‚
â”‚     â”‚                      â”‚         â”‚
â”‚     â”‚ Example:             â”‚         â”‚
â”‚     â”‚ 17/20 fields = 0.85  â”‚         â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                       â”‚
â”‚  2. Source Reliability Lookup         â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚     â”‚ BioModels â†’ 1.00     â”‚         â”‚
â”‚     â”‚ Reactome â†’ 0.95      â”‚         â”‚
â”‚     â”‚ KEGG â†’ 0.85          â”‚         â”‚
â”‚     â”‚ Predicted â†’ 0.30     â”‚         â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                       â”‚
â”‚  3. Consistency Check                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚     â”‚ â€¢ Mass balance       â”‚         â”‚
â”‚     â”‚ â€¢ Unit consistency   â”‚         â”‚
â”‚     â”‚ â€¢ Range validation   â”‚         â”‚
â”‚     â”‚                      â”‚         â”‚
â”‚     â”‚ Pass: 0.90           â”‚         â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                       â”‚
â”‚  4. Validation Status                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚     â”‚ Experimental? Yes    â”‚         â”‚
â”‚     â”‚ Curated? Yes         â”‚         â”‚
â”‚     â”‚ Evidence codes: 3    â”‚         â”‚
â”‚     â”‚                      â”‚         â”‚
â”‚     â”‚ Score: 1.0           â”‚         â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                       â”‚
â”‚  5. Weighted Average                  â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚     â”‚ 0.25 Ã— 0.85 = 0.2125 â”‚         â”‚
â”‚     â”‚ 0.30 Ã— 1.00 = 0.3000 â”‚         â”‚
â”‚     â”‚ 0.20 Ã— 0.90 = 0.1800 â”‚         â”‚
â”‚     â”‚ 0.25 Ã— 1.00 = 0.2500 â”‚         â”‚
â”‚     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚         â”‚
â”‚     â”‚ Total:       0.9425  â”‚         â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   QualityMetrics         â”‚
â”‚   overall_score: 0.94    â”‚
â”‚   confidence: "high"     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Voting Strategy Decision Tree

```
Multiple FetchResults for same data
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  What data type?    â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                          â”‚
    â–¼                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Coordinatesâ”‚                          â”‚Concentrationsâ”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                       â”‚
      â”‚ Strategy: quality_weighted            â”‚ Strategy: consensus
      â–¼                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Select highest  â”‚                   â”‚ Require 2+ to    â”‚
â”‚ quality score   â”‚                   â”‚ agree            â”‚
â”‚                 â”‚                   â”‚                  â”‚
â”‚ KEGG: 0.85 âœ“   â”‚                   â”‚ BioModels: 10.0 â”€â”
â”‚ Reactome: 0.75 â”‚                   â”‚ SABIO-RK: 10.0 â”€â”€â”¤â†’ Match!
â”‚ WikiPaths: 0.60â”‚                   â”‚ Literature: 9.8  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                         â”‚
    â–¼                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Kinetics â”‚                          â”‚ Annotations â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                       â”‚
      â”‚ Strategy: source_priority             â”‚ Strategy: merge
      â–¼                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Follow priority â”‚                   â”‚ Combine all non- â”‚
â”‚ order           â”‚                   â”‚ conflicting data â”‚
â”‚                 â”‚                   â”‚                  â”‚
â”‚ 1. BioModels âœ“ â”‚                   â”‚ UniProt: name    â”‚
â”‚ 2. SABIO-RK    â”‚                   â”‚ ChEBI: formula   â”‚
â”‚ 3. BRENDA      â”‚                   â”‚ KEGG: pathway    â”‚
â”‚                 â”‚                   â”‚ â†’ Merge all      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Fetcher Priority Hierarchy

```
                    PRIORITY PYRAMID
                    ================

                        ğŸ† 10
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  BioModels   â”‚  Curated, peer-reviewed
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      (Highest)

              ğŸ¥‡ 9                    ğŸ¥‡ 9
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Reactome   â”‚       â”‚    ChEBI     â”‚
         â”‚   UniProt    â”‚       â”‚              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         Expert-curated         Chemical specialist

                    ğŸ¥ˆ 8
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚     KEGG     â”‚  Comprehensive
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              Auto-generated

                    ğŸ¥‰ 7
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ WikiPathways â”‚  Community
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              Variable quality

                    â­ 5
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   PubChem    â”‚  Large scale
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              Variable quality

                    âš ï¸ 3
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Predicted   â”‚  Computational
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              Low confidence
```

---

## 7. Cache & Rate Limiting

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             API Request Flow                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Application
        â”‚
        â”‚ fetch(identifier, data_type)
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   BaseFetcher      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1. Check cache
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CacheManager     â”‚
â”‚                    â”‚
â”‚   Key: "KEGG:     â”‚
â”‚         C00031:    â”‚
â”‚         coords"    â”‚
â”‚                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ Hit? Return â”‚ â”‚â”€â”€â”€â”€â”€â†’ Return cached data
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚       (Fast path)
â”‚         â”‚          â”‚
â”‚         â”‚ Miss     â”‚
â”‚         â–¼          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ 2. Rate limit
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   RateLimiter      â”‚
â”‚                    â”‚
â”‚   Last req: 0.3s   â”‚
â”‚   Min interval:    â”‚
â”‚   0.5s             â”‚
â”‚                    â”‚
â”‚   â†’ Wait 0.2s      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ 3. Make request
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   External API     â”‚
â”‚   (KEGG, etc.)     â”‚
â”‚                    â”‚
â”‚   Response â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â†’ Parse result
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ 4. Cache result
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CacheManager     â”‚
â”‚   .store(key, data)â”‚
â”‚                    â”‚
â”‚   TTL: 7 days      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ 5. Return
          â–¼
    FetchResult
```

---

## 8. Complete Enrichment Example

```
BIOMD0000000001 (Repressilator) Import
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Initial State (from SBML):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Species:                        â”‚
â”‚  â€¢ PX (protein X)               â”‚
â”‚    concentration: 0.0           â”‚
â”‚    coordinates: MISSING âœ—       â”‚
â”‚  â€¢ PY (protein Y)               â”‚
â”‚    concentration: 0.0           â”‚
â”‚    coordinates: MISSING âœ—       â”‚
â”‚  â€¢ PZ (protein Z)               â”‚
â”‚    concentration: MISSING âœ—     â”‚
â”‚    coordinates: MISSING âœ—       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ EnrichmentPipeline.enrich_pathway()
         â–¼
Step 1: Identify Missing
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Missing:                        â”‚
â”‚  â€¢ Coordinates: 100% (3/3)      â”‚
â”‚  â€¢ Concentrations: 33% (1/3)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Step 2: Fetch from Sources
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Coordinates:                    â”‚
â”‚  KEGG:       None (not found)   â”‚
â”‚  Reactome:   None (not found)   â”‚
â”‚  Algorithm:  Generated âœ“        â”‚
â”‚                                 â”‚
â”‚ Concentrations:                 â”‚
â”‚  BioModels:  PZ=0.0 âœ“          â”‚
â”‚  SABIO-RK:   None               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Step 3: Score Quality
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Coordinates:                    â”‚
â”‚  Algorithm: quality=0.40        â”‚
â”‚                                 â”‚
â”‚ Concentrations:                 â”‚
â”‚  BioModels: quality=0.95        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Step 4: Resolve & Select
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Best:                           â”‚
â”‚  Coordinates â†’ Algorithm        â”‚
â”‚  Concentrations â†’ BioModels     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Step 5: Merge
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Enriched Pathway:               â”‚
â”‚  â€¢ PX: conc=0.0, pos=(100,100) â”‚
â”‚    sources: {conc: SBML,        â”‚
â”‚               pos: Algorithm}   â”‚
â”‚  â€¢ PY: conc=0.0, pos=(200,100) â”‚
â”‚    sources: {conc: SBML,        â”‚
â”‚               pos: Algorithm}   â”‚
â”‚  â€¢ PZ: conc=0.0, pos=(150,200) â”‚
â”‚    sources: {conc: BioModels,   â”‚
â”‚               pos: Algorithm}   â”‚
â”‚                                 â”‚
â”‚ Overall Quality: 0.67           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. Source Attribution Tracking

```
EnrichedSpecies Object:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id: "C00031"                                     â”‚
â”‚ name: "Glucose"                                  â”‚
â”‚ initial_concentration: 10.0                      â”‚
â”‚ x: 250.5                                         â”‚
â”‚ y: 180.0                                         â”‚
â”‚ formula: "C6H12O6"                               â”‚
â”‚                                                  â”‚
â”‚ sources:                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 'initial_concentration':                    â”‚ â”‚
â”‚ â”‚   SourceAttribution(                        â”‚ â”‚
â”‚ â”‚     source_name='BioModels',                â”‚ â”‚
â”‚ â”‚     quality_score=0.95,                     â”‚ â”‚
â”‚ â”‚     url='https://www.ebi.ac.uk/...',       â”‚ â”‚
â”‚ â”‚     timestamp='2025-01-10T14:23:22Z'       â”‚ â”‚
â”‚ â”‚   )                                         â”‚ â”‚
â”‚ â”‚                                             â”‚ â”‚
â”‚ â”‚ 'coordinates':                              â”‚ â”‚
â”‚ â”‚   SourceAttribution(                        â”‚ â”‚
â”‚ â”‚     source_name='KEGG',                     â”‚ â”‚
â”‚ â”‚     quality_score=0.75,                     â”‚ â”‚
â”‚ â”‚     pathway_id='hsa00010',                  â”‚ â”‚
â”‚ â”‚     timestamp='2025-01-10T14:23:17Z'       â”‚ â”‚
â”‚ â”‚   )                                         â”‚ â”‚
â”‚ â”‚                                             â”‚ â”‚
â”‚ â”‚ 'formula':                                  â”‚ â”‚
â”‚ â”‚   SourceAttribution(                        â”‚ â”‚
â”‚ â”‚     source_name='ChEBI',                    â”‚ â”‚
â”‚ â”‚     quality_score=0.95,                     â”‚ â”‚
â”‚ â”‚     chebi_id='CHEBI:17234',                â”‚ â”‚
â”‚ â”‚     timestamp='2025-01-10T14:23:19Z'       â”‚ â”‚
â”‚ â”‚   )                                         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚ enrichment_log:                                  â”‚
â”‚   ["initial_concentration from BioModels...",   â”‚
â”‚    "coordinates from KEGG (quality=0.75)",      â”‚
â”‚    "formula from ChEBI (quality=0.95)"]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Visual Documentation Complete**

All diagrams use ASCII art for universal compatibility and version control friendliness.

**Last Updated**: January 10, 2025
